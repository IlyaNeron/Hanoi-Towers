"use strict";$(function(){function e(){_.hide().css("opacity","0"),v.empty(),f.prop("disabled",!1),w.prop("disabled",!1),b.hide().prop("disabled",!1),b.removeClass("btn_timer_pause"),y=!0,I=!0,clearInterval(u),q.html("00:"),C.html("00"),l(),c(),g.hide().prop("disabled",!1)}function i(){o(),p(),s(),d(),n(),t(),l(),c()}function n(){v.children().draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0})}function t(){var e=v.first().children().length;v.droppable({accept:".disc",drop:function(i,n){if($(this).children().length>0&&$(n.draggable).width()>$(this).children("div:eq(0)").width())return!1;$(n.draggable).remove();var t=$(n.draggable).width(),d=$(n.draggable).css("background"),r=$('<div class="disc"></div>');r.width(t),r.css("background",d),r.draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0}),$(this).prepend(r),v.last().children().length===e&&(v.children().draggable("disable"),y=!1,b.prop("disabled",!0),g.prop("disabled",!0),a())}})}function a(){_.show().animate({opacity:1})}function d(){var e=0,i=0;u=setInterval(function(){!0===y&&(e++,e<10&&C.html("0"+e),e>=10&&C.html(e),e>59&&(e=0,i+=1,q.html("0"+i+":"),C.html("0"+e),i>=10&&q.html(i+":")))},1e3)}function r(){b.toggleClass("btn_timer_pause"),I?(y=!1,v.children().draggable("disable"),I=!1):(y=!0,v.children().draggable("enable"),I=!0)}function l(){b.click(r)}function c(){g.click(e)}function s(){f.prop("disabled",!0),w.prop("disabled",!0)}function o(){f.val()>6?f.val(6):f.val()<2&&f.val(2)}function p(){for(var e=1;e<=f.val();e++){var i=h[e];v.first().append('<div class="disc" style="width: '+40*e+"px; background: "+i+'"></div>'),$(this).prop("disabled",!0),b=$(".btn_pause"),b.show(),g=$(".btn_reset"),g.show()}}var h,b,g,u,f=$(".discs_value"),v=$(".tower"),m=$(".timer-block"),w=$(".btn-start"),_=$(".win-popup"),k=$(".btn_new_game"),y=!0,I=!0,q=m.find(".minutes"),C=m.find(".seconds");w.click(i),k.click(e),$(document).ready(function(){$.getJSON("json/colors.json",function(e){h=e,console.log(h)})})}),$(function(){function e(){_.hide().css("opacity","0"),v.empty(),f.prop("disabled",!1),w.prop("disabled",!1),b.hide().prop("disabled",!1),b.removeClass("btn_timer_pause"),y=!0,I=!0,clearInterval(u),q.html("00:"),C.html("00"),l(),c(),g.hide().prop("disabled",!1)}function i(){o(),p(),s(),d(),n(),t(),l(),c()}function n(){v.children().draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0})}function t(){var e=v.first().children().length;v.droppable({accept:".disc",drop:function(i,n){if($(this).children().length>0&&$(n.draggable).width()>$(this).children("div:eq(0)").width())return!1;$(n.draggable).remove();var t=$(n.draggable).width(),d=$(n.draggable).css("background"),r=$('<div class="disc"></div>');r.width(t),r.css("background",d),r.draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0}),$(this).prepend(r),v.last().children().length===e&&(v.children().draggable("disable"),y=!1,b.prop("disabled",!0),g.prop("disabled",!0),a())}})}function a(){_.show().animate({opacity:1})}function d(){var e=0,i=0;u=setInterval(function(){!0===y&&(e++,e<10&&C.html("0"+e),e>=10&&C.html(e),e>59&&(e=0,i+=1,q.html("0"+i+":"),C.html("0"+e),i>=10&&q.html(i+":")))},1e3)}function r(){b.toggleClass("btn_timer_pause"),I?(y=!1,v.children().draggable("disable"),I=!1):(y=!0,v.children().draggable("enable"),I=!0)}function l(){b.click(r)}function c(){g.click(e)}function s(){f.prop("disabled",!0),w.prop("disabled",!0)}function o(){f.val()>6?f.val(6):f.val()<2&&f.val(2)}function p(){for(var e=1;e<=f.val();e++){var i=h[e];v.first().append('<div class="disc" style="width: '+40*e+"px; background: "+i+'"></div>'),$(this).prop("disabled",!0),b=$(".btn_pause"),b.show(),g=$(".btn_reset"),g.show()}}var h,b,g,u,f=$(".discs_value"),v=$(".tower"),m=$(".timer-block"),w=$(".btn-start"),_=$(".win-popup"),k=$(".btn_new_game"),y=!0,I=!0,q=m.find(".minutes"),C=m.find(".seconds");w.click(i),k.click(e),$(document).ready(function(){$.getJSON("json/colors.json",function(e){h=e,console.log(h)})})}),$(function(){function e(){_.hide().css("opacity","0"),v.empty(),f.prop("disabled",!1),w.prop("disabled",!1),b.hide().prop("disabled",!1),b.removeClass("btn_timer_pause"),y=!0,I=!0,clearInterval(u),q.html("00:"),C.html("00"),l(),c(),g.hide().prop("disabled",!1)}function i(){o(),p(),s(),d(),n(),t(),l(),c()}function n(){v.children().draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0})}function t(){var e=v.first().children().length;v.droppable({accept:".disc",drop:function(i,n){if($(this).children().length>0&&$(n.draggable).width()>$(this).children("div:eq(0)").width())return!1;$(n.draggable).remove();var t=$(n.draggable).width(),d=$(n.draggable).css("background"),r=$('<div class="disc"></div>');r.width(t),r.css("background",d),r.draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0}),$(this).prepend(r),v.last().children().length===e&&(v.children().draggable("disable"),y=!1,b.prop("disabled",!0),g.prop("disabled",!0),a())}})}function a(){_.show().animate({opacity:1})}function d(){var e=0,i=0;u=setInterval(function(){!0===y&&(e++,e<10&&C.html("0"+e),e>=10&&C.html(e),e>59&&(e=0,i+=1,q.html("0"+i+":"),C.html("0"+e),i>=10&&q.html(i+":")))},1e3)}function r(){b.toggleClass("btn_timer_pause"),I?(y=!1,v.children().draggable("disable"),I=!1):(y=!0,v.children().draggable("enable"),I=!0)}function l(){b.click(r)}function c(){g.click(e)}function s(){f.prop("disabled",!0),w.prop("disabled",!0)}function o(){f.val()>6?f.val(6):f.val()<2&&f.val(2)}function p(){for(var e=1;e<=f.val();e++){var i=h[e];v.first().append('<div class="disc" style="width: '+40*e+"px; background: "+i+'"></div>'),$(this).prop("disabled",!0),b=$(".btn_pause"),b.show(),g=$(".btn_reset"),g.show()}}var h,b,g,u,f=$(".discs_value"),v=$(".tower"),m=$(".timer-block"),w=$(".btn-start"),_=$(".win-popup"),k=$(".btn_new_game"),y=!0,I=!0,q=m.find(".minutes"),C=m.find(".seconds");w.click(i),k.click(e),$(document).ready(function(){$.getJSON("json/colors.json",function(e){h=e,console.log(h)})})}),$(function(){function e(){v.hide(),b.empty(),h.prop("disabled",!1),f.prop("disabled",!1),u.children(".timer-controls").empty(),w=!0,clearInterval(p),k.html("00:"),y.html("00")}function i(){s(),o(),c(),d(),n(),t(),l()}function n(){b.children().draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0})}function t(){var e=b.first().children().length;b.droppable({accept:".disc",drop:function(i,n){if($(this).children().length>0){if($(n.draggable).width()>$(this).children("div:eq(0)").width())return!1;$(n.draggable).width(),$(this).children("div:eq(0)").width()}$(n.draggable).remove();var t=$(n.draggable).width(),d=$(n.draggable).css("background"),r=$('<div class="disc"></div>');r.width(t),r.css("background",d),r.draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0}),$(this).prepend(r),b.last().children().length===e&&(b.children().draggable("disable"),w=!1,$(".btn_pause").prop("disabled",!0),a())}})}function a(){v.show().animate({opacity:1})}function d(){var e=0,i=0;p=setInterval(function(){!0===w&&(e++,e<10&&y.html("0"+e),e>=10&&y.html(e),e>59&&(e=0,i+=1,k.html("0"+i+":"),y.html("0"+e),i>=10&&k.html(i+":")))},1e3)}function r(){$(".btn_pause").toggleClass("btn_timer_pause"),_?(w=!1,b.children().draggable("disable"),_=!1):(w=!0,b.children().draggable("enable"),_=!0)}function l(){$(".btn_pause").click(r)}function c(){h.prop("disabled",!0),f.prop("disabled",!0)}function s(){h.val()>6?h.val(6):h.val()<2&&h.val(2)}function o(){for(var e=1;e<=h.val();e++){var i=g[e];b.first().append('<div class="disc" style="width: '+40*e+"px; background: "+i+'"></div>'),$(this).prop("disabled",!0)}u.children(".timer-controls").append("")}var p,h=$(".discs_value"),b=$(".tower"),g=["#5b9bd5","#ed7d31","#c73006","#ffc000","#4472c4","#70ad47","#255e91","#636363","#264478","#43682b","#9e480e","#c1b56b","#5aa6c0","#d17df9","#fa7e5c","#935909","#950ad7","#997300","#2f677a","#5aa6c0"],u=$(".timer-block"),f=$(".btn-start"),v=$(".win-popup"),m=$(".btn_new_game"),w=!0,_=!0,k=u.find(".minutes"),y=u.find(".seconds");f.click(i),m.click(e)}),$(function(){function e(){v.hide(),b.empty(),h.prop("disabled",!1),f.prop("disabled",!1),u.children(".timer-controls").empty(),w=!0,clearInterval(p),k.html("00:"),y.html("00")}function i(){s(),o(),c(),d(),n(),t(),l()}function n(){b.children().draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0})}function t(){var e=b.first().children().length;b.droppable({accept:".disc",drop:function(i,n){if($(this).children().length>0){if($(n.draggable).width()>$(this).children("div:eq(0)").width())return!1;$(n.draggable).width(),$(this).children("div:eq(0)").width()}$(n.draggable).remove();var t=$(n.draggable).width(),d=$(n.draggable).css("background"),r=$('<div class="disc"></div>');r.width(t),r.css("background",d),r.draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0}),$(this).prepend(r),b.last().children().length===e&&(b.children().draggable("disable"),w=!1,$(".btn_pause").prop("disabled",!0),a())}})}function a(){v.show().animate({opacity:1})}function d(){var e=0,i=0;p=setInterval(function(){!0===w&&(e++,e<10&&y.html("0"+e),e>=10&&y.html(e),e>59&&(e=0,i+=1,k.html("0"+i+":"),y.html("0"+e),i>=10&&k.html(i+":")))},1e3)}function r(){$(".btn_pause").toggleClass("btn_timer_pause"),_?(w=!1,b.children().draggable("disable"),_=!1):(w=!0,b.children().draggable("enable"),_=!0)}function l(){$(".btn_pause").click(r)}function c(){h.prop("disabled",!0),f.prop("disabled",!0)}function s(){h.val()>6?h.val(6):h.val()<2&&h.val(2)}function o(){for(var e=1;e<=h.val();e++){var i=g[e];b.first().append('<div class="disc" style="width: '+40*e+"px; background: "+i+'"></div>'),$(this).prop("disabled",!0)}u.children(".timer-controls").append("")}var p,h=$(".discs_value"),b=$(".tower"),g=["#5b9bd5","#ed7d31","#c73006","#ffc000","#4472c4","#70ad47","#255e91","#636363","#264478","#43682b","#9e480e","#c1b56b","#5aa6c0","#d17df9","#fa7e5c","#935909","#950ad7","#997300","#2f677a","#5aa6c0"],u=$(".timer-block"),f=$(".btn-start"),v=$(".win-popup"),m=$(".btn_new_game"),w=!0,_=!0,k=u.find(".minutes"),y=u.find(".seconds");f.click(i),m.click(e)}),$(function(){function e(){v.hide(),b.empty(),h.prop("disabled",!1),f.prop("disabled",!1),u.children(".timer-controls").empty(),w=!0,clearInterval(p),k.html("00:"),y.html("00")}function i(){s(),o(),c(),d(),n(),t(),l()}function n(){b.children().draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0})}function t(){var e=b.first().children().length;b.droppable({accept:".disc",drop:function(i,n){if($(this).children().length>0){if($(n.draggable).width()>$(this).children("div:eq(0)").width())return!1;$(n.draggable).width(),$(this).children("div:eq(0)").width()}$(n.draggable).remove();var t=$(n.draggable).width(),d=$(n.draggable).css("background"),r=$('<div class="disc"></div>');r.width(t),r.css("background",d),r.draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0}),$(this).prepend(r),b.last().children().length===e&&(b.children().draggable("disable"),w=!1,$(".btn_pause").prop("disabled",!0),a())}})}function a(){v.show().animate({opacity:1})}function d(){var e=0,i=0;p=setInterval(function(){!0===w&&(e++,e<10&&y.html("0"+e),e>=10&&y.html(e),e>59&&(e=0,i+=1,k.html("0"+i+":"),y.html("0"+e),i>=10&&k.html(i+":")))},1e3)}function r(){$(".btn_pause").toggleClass("btn_timer_pause"),_?(w=!1,b.children().draggable("disable"),_=!1):(w=!0,b.children().draggable("enable"),_=!0)}function l(){$(".btn_pause").click(r)}function c(){h.prop("disabled",!0),f.prop("disabled",!0)}function s(){h.val()>6?h.val(6):h.val()<2&&h.val(2)}function o(){for(var e=1;e<=h.val();e++){var i=g[e];b.first().append('<div class="disc" style="width: '+40*e+"px; background: "+i+'"></div>'),$(this).prop("disabled",!0)}u.children(".timer-controls").append('<button type="button" class="btn_pause">Пауза</button>')}var p,h=$(".discs_value"),b=$(".tower"),g=["#5b9bd5","#ed7d31","#c73006","#ffc000","#4472c4","#70ad47","#255e91","#636363","#264478","#43682b","#9e480e","#c1b56b","#5aa6c0","#d17df9","#fa7e5c","#935909","#950ad7","#997300","#2f677a","#5aa6c0"],u=$(".timer-block"),f=$(".btn-start"),v=$(".win-popup"),m=$(".btn_new_game"),w=!0,_=!0,k=u.find(".minutes"),y=u.find(".seconds");f.click(i),m.click(e)});