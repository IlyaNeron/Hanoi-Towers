"use strict";$(function(){function e(){v.hide(),b.empty(),h.prop("disabled",!1),u.prop("disabled",!1),f.children(".timer-controls").empty(),w=!0,clearInterval(p),k.html("00:"),y.html("00")}function i(){s(),o(),l(),d(),t(),a(),c()}function t(){b.children().draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0})}function a(){var e=b.first().children().length;b.droppable({accept:".disc",drop:function(i,t){if($(this).children().length>0){if($(t.draggable).width()>$(this).children("div:eq(0)").width())return!1;$(t.draggable).width(),$(this).children("div:eq(0)").width()}$(t.draggable).remove();var a=$(t.draggable).width(),d=$(t.draggable).css("background"),r=$('<div class="disc"></div>');if(r.width(a),r.css("background",d),r.draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0}),$(this).prepend(r),b.last().children().length===e){b.children().draggable("disable"),w=!1;$(".btn_pause").prop("disabled",!0),n()}}})}function n(){v.show().animate({opacity:1})}function d(){var e=0,i=0;p=setInterval(function(){!0===w&&(e++,e<10&&y.html("0"+e),e>=10&&y.html(e),e>59&&(e=0,i+=1,k.html("0"+i+":"),y.html("0"+e),i>=10&&k.html(i+":")))},1e3)}function r(){$(".btn_pause").toggleClass("btn_timer_pause"),_?(w=!1,b.children().draggable("disable"),_=!1):(w=!0,b.children().draggable("enable"),_=!0)}function c(){$(".btn_pause").click(r)}function l(){h.prop("disabled",!0),u.prop("disabled",!0)}function s(){h.val()>6?h.val(6):h.val()<2&&h.val(2)}function o(){for(var e=1;e<=h.val();e++){var i=g[e];b.first().append('<div class="disc" style="width: '+40*e+"px; background: "+i+'"></div>'),$(this).prop("disabled",!0)}f.children(".timer-controls").append("")}var p,h=$(".discs_value"),b=$(".tower"),g=["#5b9bd5","#ed7d31","#c73006","#ffc000","#4472c4","#70ad47","#255e91","#636363","#264478","#43682b","#9e480e","#c1b56b","#5aa6c0","#d17df9","#fa7e5c","#935909","#950ad7","#997300","#2f677a","#5aa6c0"],f=$(".timer-block"),u=$(".btn-start"),v=$(".win-popup"),m=$(".btn_new_game"),w=!0,_=!0,k=f.find(".minutes"),y=f.find(".seconds");u.click(i),m.click(e)}),$(function(){function e(){v.hide(),b.empty(),h.prop("disabled",!1),u.prop("disabled",!1),f.children(".timer-controls").empty(),w=!0,clearInterval(p),k.html("00:"),y.html("00")}function i(){s(),o(),l(),d(),t(),a(),c()}function t(){b.children().draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0})}function a(){var e=b.first().children().length;b.droppable({accept:".disc",drop:function(i,t){if($(this).children().length>0){if($(t.draggable).width()>$(this).children("div:eq(0)").width())return!1;$(t.draggable).width(),$(this).children("div:eq(0)").width()}$(t.draggable).remove();var a=$(t.draggable).width(),d=$(t.draggable).css("background"),r=$('<div class="disc"></div>');r.width(a),r.css("background",d),r.draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0}),$(this).prepend(r),b.last().children().length===e&&(b.children().draggable("disable"),w=!1,$(".btn_pause").prop("disabled",!0),n())}})}function n(){v.show().animate({opacity:1})}function d(){var e=0,i=0;p=setInterval(function(){!0===w&&(e++,e<10&&y.html("0"+e),e>=10&&y.html(e),e>59&&(e=0,i+=1,k.html("0"+i+":"),y.html("0"+e),i>=10&&k.html(i+":")))},1e3)}function r(){$(".btn_pause").toggleClass("btn_timer_pause"),_?(w=!1,b.children().draggable("disable"),_=!1):(w=!0,b.children().draggable("enable"),_=!0)}function c(){$(".btn_pause").click(r)}function l(){h.prop("disabled",!0),u.prop("disabled",!0)}function s(){h.val()>6?h.val(6):h.val()<2&&h.val(2)}function o(){for(var e=1;e<=h.val();e++){var i=g[e];b.first().append('<div class="disc" style="width: '+40*e+"px; background: "+i+'"></div>'),$(this).prop("disabled",!0)}f.children(".timer-controls").append("")}var p,h=$(".discs_value"),b=$(".tower"),g=["#5b9bd5","#ed7d31","#c73006","#ffc000","#4472c4","#70ad47","#255e91","#636363","#264478","#43682b","#9e480e","#c1b56b","#5aa6c0","#d17df9","#fa7e5c","#935909","#950ad7","#997300","#2f677a","#5aa6c0"],f=$(".timer-block"),u=$(".btn-start"),v=$(".win-popup"),m=$(".btn_new_game"),w=!0,_=!0,k=f.find(".minutes"),y=f.find(".seconds");u.click(i),m.click(e)}),$(function(){function e(){v.hide(),b.empty(),h.prop("disabled",!1),u.prop("disabled",!1),f.children(".timer-controls").empty(),w=!0,clearInterval(p),k.html("00:"),y.html("00")}function i(){s(),o(),l(),d(),t(),a(),c()}function t(){b.children().draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0})}function a(){var e=b.first().children().length;b.droppable({accept:".disc",drop:function(i,t){if($(this).children().length>0){if($(t.draggable).width()>$(this).children("div:eq(0)").width())return!1;$(t.draggable).width(),$(this).children("div:eq(0)").width()}$(t.draggable).remove();var a=$(t.draggable).width(),d=$(t.draggable).css("background"),r=$('<div class="disc"></div>');r.width(a),r.css("background",d),r.draggable({containment:".towers-wrapper",cancel:".disc:not(:first-child)",revert:!0}),$(this).prepend(r),b.last().children().length===e&&(b.children().draggable("disable"),w=!1,$(".btn_pause").prop("disabled",!0),n())}})}function n(){v.show().animate({opacity:1})}function d(){var e=0,i=0;p=setInterval(function(){!0===w&&(e++,e<10&&y.html("0"+e),e>=10&&y.html(e),e>59&&(e=0,i+=1,k.html("0"+i+":"),y.html("0"+e),i>=10&&k.html(i+":")))},1e3)}function r(){$(".btn_pause").toggleClass("btn_timer_pause"),_?(w=!1,b.children().draggable("disable"),_=!1):(w=!0,b.children().draggable("enable"),_=!0)}function c(){$(".btn_pause").click(r)}function l(){h.prop("disabled",!0),u.prop("disabled",!0)}function s(){h.val()>6?h.val(6):h.val()<2&&h.val(2)}function o(){for(var e=1;e<=h.val();e++){var i=g[e];b.first().append('<div class="disc" style="width: '+40*e+"px; background: "+i+'"></div>'),$(this).prop("disabled",!0)}f.children(".timer-controls").append('<button type="button" class="btn_pause">Пауза</button>')}var p,h=$(".discs_value"),b=$(".tower"),g=["#5b9bd5","#ed7d31","#c73006","#ffc000","#4472c4","#70ad47","#255e91","#636363","#264478","#43682b","#9e480e","#c1b56b","#5aa6c0","#d17df9","#fa7e5c","#935909","#950ad7","#997300","#2f677a","#5aa6c0"],f=$(".timer-block"),u=$(".btn-start"),v=$(".win-popup"),m=$(".btn_new_game"),w=!0,_=!0,k=f.find(".minutes"),y=f.find(".seconds");u.click(i),m.click(e)});